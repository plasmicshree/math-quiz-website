<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Math Quiz</title>
    <link rel="stylesheet" href="style.css">
    <!-- Firebase SDK - using compat version for compatibility -->
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.0/firebase-firestore-compat.js"></script>
</head>
<body>
    <!-- Name Input Modal -->
    <div id="name-modal" class="modal-overlay">
        <div class="modal-content">
            <h1>Welcome to Math Quiz! üéì</h1>
            <p>Let's get to know you!</p>
            <input type="text" id="name-input" placeholder="Enter your name..." autocomplete="name">
            <input type="email" id="email-input" placeholder="Enter your email..." autocomplete="email">
            <button id="name-submit-btn">Start Quiz</button>
        </div>
    </div>

    <!-- History Modal -->
    <div id="history-modal" class="modal-overlay hidden">
        <div class="modal-content history-modal-content">
            <h1>üìä Session History</h1>
            <div id="history-list" class="history-list">
                <p>Loading...</p>
            </div>
            <button id="close-history-btn" class="modal-close-btn">Close</button>
        </div>
    </div>

    <div class="main-layout three-col-layout">
        <div class="sidebar left-sidebar">
            <div class="name-display">
                <div id="user-name-display">User</div>
                <button id="change-name-btn" class="small-btn">‚úé Change Name</button>
            </div>
            <div class="grade-selector disabled-overlay" id="grade-selector-container">
                <label for="grade-select"><strong>Select Your Grade</strong></label>
                <select id="grade-select" disabled>
                    <option value="" disabled selected>Choose Grade...</option>
                    <option value="1">Grade 1</option>
                    <option value="2">Grade 2</option>
                    <option value="3">Grade 3</option>
                    <option value="4">Grade 4</option>
                    <option value="5">Grade 5</option>
                    <option value="6">Grade 6</option>
                </select>
            </div>
            <div class="score-tile disabled-overlay">
                <div class="score-title"><span id="score-title-name">User</span>'s Score</div>
                <div id="score-value">0</div>
            </div>
            <label for="section-select" class="disabled-overlay"><strong>Math Section</strong></label>
            <select id="section-select" size="6" disabled class="disabled-overlay">
                <option value="addition" selected>Addition</option>
                <option value="subtraction">Subtraction</option>
                <option value="multiplication">Multiplication</option>
                <option value="division">Division</option>
                <option value="fractions">Fractions</option>
                <option value="charts">Graphs</option>
            </select>
            <div class="session-controls">
                <button id="save-session-btn" class="session-btn disabled-overlay" disabled>üíæ Save Session</button>
                <button id="view-history-btn" class="session-btn disabled-overlay" disabled>üìä View History</button>
            </div>
        </div>
        <div class="center-section disabled-overlay">
            <div class="container quiz-main">
                <h1>Math Quiz</h1>
                <div id="question-box">
                    <p id="question-text">Please select your grade level to begin...</p>
                    <div id="answer-fields">
                        <input type="number" id="answer-input" placeholder="Your answer">
                    </div>
                    <button id="submit-btn" disabled>Submit</button>
                    <button id="next-btn" class="next-btn" disabled>Next</button>
                    <button id="admin-skip-btn" class="admin-skip-btn" disabled>‚è≠Ô∏è Admin Skip</button>
                </div>
                <div id="result"></div>
            </div>
        </div>
        <div class="right-section disabled-overlay">
            <div id="chart-container"></div>
        </div>
    </div>
    <script src="app.js"></script>
</body>
</html>
